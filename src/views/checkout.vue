<template>
  <div
    id="index"
    class="
      lang-en
      country-us
      currency-usd
      layout-full-width
      page-index
      tax-display-disabled
    "
  >
    <main>
                 <Header :isHas="isHas"/>


      <aside id="notifications">
        <div class="container"></div>
      </aside>

<section id="wrapper">
<div class="container">
<div id="columns_inner">
<div id="left-column" class="col-xs-12 col-sm-4 col-md-3 left-section sidemenu-hide">
<div class="block-categories block">
<h4 class="block_title hidden-md-down">
shop by category
</h4>
<h4 class="block_title hidden-lg-up" data-target="#block_categories_toggle" data-toggle="collapse">
<a data-id="#">Home</a>
<span class="pull-xs-right">
<span class="navbar-toggler collapse-icons">
<i class="material-icons add">&#xE313;</i>
<i class="material-icons remove">&#xE316;</i>
</span>
</span>
</h4>
<div id="block_categories_toggle" class="block_content collapse">
<ul class="category-top-menu">
<li>
<ul class="category-sub-menu"><li data-depth="0"><a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=3&amp;controller=category&amp;id_lang=1">Clothes</a><div class="navbar-toggler collapse-icons" data-toggle="collapse" data-target="#exCollapsingNavbar3"><i class="material-icons add">&#xE145;</i><i class="material-icons remove">&#xE15B;</i></div><div class="collapse" id="exCollapsingNavbar3">
<ul class="category-sub-menu"><li data-depth="1"><a class="category-sub-link" data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=4&amp;controller=category&amp;id_lang=1">Mini Tikes</a><span class="arrows" data-toggle="collapse" data-target="#exCollapsingNavbar4"><i class="material-icons arrow-right">&#xE145;</i><i class="material-icons arrow-down">&#xE15B;</i></span><div class="collapse" id="exCollapsingNavbar4">
<ul class="category-sub-menu"><li data-depth="2"><a class="category-sub-link" data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=18&amp;controller=category&amp;id_lang=1">PeeWees</a></li><li data-depth="2"><a class="category-sub-link" data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=19&amp;controller=category&amp;id_lang=1">Silly Baby</a></li><li data-depth="2"><a class="category-sub-link" data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=20&amp;controller=category&amp;id_lang=1">BearyBaby</a></li></ul></div></li><li data-depth="1"><a class="category-sub-link" data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=5&amp;controller=category&amp;id_lang=1">Tiny Tots</a><span class="arrows" data-toggle="collapse" data-target="#exCollapsingNavbar5"><i class="material-icons arrow-right">&#xE145;</i><i class="material-icons arrow-down">&#xE15B;</i></span><div class="collapse" id="exCollapsingNavbar5">
<ul class="category-sub-menu"><li data-depth="2"><a class="category-sub-link" data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=21&amp;controller=category&amp;id_lang=1">Bubbly Baby</a></li><li data-depth="2"><a class="category-sub-link" data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=22&amp;controller=category&amp;id_lang=1">BabyDesire</a></li><li data-depth="2"><a class="category-sub-link" data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=23&amp;controller=category&amp;id_lang=1">BabyClub</a></li></ul></div></li><li data-depth="1"><a class="category-sub-link" data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=17&amp;controller=category&amp;id_lang=1">Tiny Tikes</a><span class="arrows" data-toggle="collapse" data-target="#exCollapsingNavbar17"><i class="material-icons arrow-right">&#xE145;</i><i class="material-icons arrow-down">&#xE15B;</i></span><div class="collapse" id="exCollapsingNavbar17">
<ul class="category-sub-menu"><li data-depth="2"><a class="category-sub-link" data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=24&amp;controller=category&amp;id_lang=1">Little Wands</a></li><li data-depth="2"><a class="category-sub-link" data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=25&amp;controller=category&amp;id_lang=1">Baby Pod</a></li><li data-depth="2"><a class="category-sub-link" data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=26&amp;controller=category&amp;id_lang=1">Little Cheeks</a></li></ul></div></li></ul></div></li><li data-depth="0"><a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=6&amp;controller=category&amp;id_lang=1">Sweet Peas</a></li><li data-depth="0"><a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=9&amp;controller=category&amp;id_lang=1">Better Baby</a></li><li data-depth="0"><a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=10&amp;controller=category&amp;id_lang=1">Peapod</a></li><li data-depth="0"><a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=11&amp;controller=category&amp;id_lang=1">Childsplay</a></li><li data-depth="0"><a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=12&amp;controller=category&amp;id_lang=1">Tiny hug</a></li><li data-depth="0"><a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=13&amp;controller=category&amp;id_lang=1">Nature Baby</a></li><li data-depth="0"><a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=14&amp;controller=category&amp;id_lang=1">Mini Boden</a></li><li data-depth="0"><a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=15&amp;controller=category&amp;id_lang=1">Joe Fresh</a></li><li data-depth="0"><a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=16&amp;controller=category&amp;id_lang=1">Bon Bebe</a></li><li data-depth="0"><a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=27&amp;controller=category&amp;id_lang=1">brand hub</a></li><li data-depth="0"><a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=28&amp;controller=category&amp;id_lang=1">desginer hub</a></li><li data-depth="0"><a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=29&amp;controller=category&amp;id_lang=1">Blue Jay</a></li><li data-depth="0"><a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_category=30&amp;controller=category&amp;id_lang=1">Baby Born</a></li></ul></li>
</ul>
</div>
</div>
<div id="tmleftbanner" class="block">
<ul class="hidden-md-down">
<li class="slide tmleftbanner-container">
<a data-id="#" title="LeftBanner 1">
<img class="lazyload" src="https://prestashop.templatemela.com/PRSADD12/PRS295/modules/tm_leftbanner/views/img/left-banner-1.jpg" alt="LeftBanner 1" title="LeftBanner 1" />
</a>				
</li>
</ul>
<div class="block hidden-lg-up">
<h4 class="block_title hidden-lg-up" data-target="#block_banner1_toggle" data-toggle="collapse">banner
<span class="pull-xs-right">
<span class="navbar-toggler collapse-icons">
<i class="material-icons add">&#xE313;</i>
<i class="material-icons remove">&#xE316;</i>
</span>
</span>
</h4>

<div class="col-md-12 col-xs-12 block_content collapse" id="block_banner1_toggle">

<ul>
<li class="slide tmleftbanner-container">
<a data-id="#" title="LeftBanner 1">
<img class="lazyload" src="https://prestashop.templatemela.com/PRSADD12/PRS295/modules/tm_leftbanner/views/img/left-banner-1.jpg" alt="LeftBanner 1" title="LeftBanner 1" />
</a>				
</li>
</ul>
</div>			
</div>		
</div>	
<div class="sidebar-latest block">
<h4 class="block_title hidden-md-down">New Products</h4>
<h4 class="block_title hidden-lg-up" data-target="#block_latest_toggle" data-toggle="collapse">New Products
<span class="pull-xs-right">
<span class="navbar-toggler collapse-icons">
<i class="material-icons add">&#xE313;</i>
<i class="material-icons remove">&#xE316;</i>
</span>
</span>
</h4>
<div class="block_content collapse" id="block_latest_toggle"> 
<div class="products clearfix">
<div class="product-item">
<div class="left-part">

<a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_product=21&amp;id_product_attribute=162&amp;rewrite=massa-suspendisse&amp;controller=product&amp;id_lang=1#/1-size-s/5-color-grey/19-dimension-40x60cm" class="thumbnail product-thumbnail">
<img class="lazyload"
src = "https://prestashop.templatemela.com/PRSADD12/PRS295/img/p/1/1/8/118-cart_default.jpg"
alt = ""
>
</a>

</div>

<div class="right-part">
<div class="product-description">

<span class="h3 product-title" itemprop="name"><a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_product=21&amp;id_product_attribute=162&amp;rewrite=massa-suspendisse&amp;controller=product&amp;id_lang=1#/1-size-s/5-color-grey/19-dimension-40x60cm">Massa Suspendisse</a></span>



<div class="product-price-and-shipping">


<span itemprop="price" class="price">$33.25</span>



<span class="discount-percentage">-5%</span>
<span class="regular-price">$35.00</span>





</div>

</div>


</div>
</div>
<div class="product-item">
<div class="left-part">

<a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_product=20&amp;id_product_attribute=118&amp;rewrite=varius-neque-at-enim&amp;controller=product&amp;id_lang=1#/1-size-s/5-color-grey/19-dimension-40x60cm" class="thumbnail product-thumbnail">
<img class="lazyload"
src = "https://prestashop.templatemela.com/PRSADD12/PRS295/img/p/1/1/7/117-cart_default.jpg"
alt = ""
>
</a>

</div>

<div class="right-part">
<div class="product-description">

<span class="h3 product-title" itemprop="name"><a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_product=20&amp;id_product_attribute=118&amp;rewrite=varius-neque-at-enim&amp;controller=product&amp;id_lang=1#/1-size-s/5-color-grey/19-dimension-40x60cm">Vehicula Mauris Blandit</a></span>



<div class="product-price-and-shipping">


<span itemprop="price" class="price">$78.90</span>
<span class="regular-price">$78.90</span>





</div>

</div>


</div>
</div>
<div class="product-item">
<div class="left-part">

<a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_product=19&amp;id_product_attribute=174&amp;rewrite=customizable-mug&amp;controller=product&amp;id_lang=1#/2-size-m/12-color-camel/19-dimension-40x60cm" class="thumbnail product-thumbnail">
<img class="lazyload"
src = "https://prestashop.templatemela.com/PRSADD12/PRS295/img/p/1/1/6/116-cart_default.jpg"
alt = ""
>
</a>

</div>

<div class="right-part">
<div class="product-description">

<span class="h3 product-title" itemprop="name"><a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_product=19&amp;id_product_attribute=174&amp;rewrite=customizable-mug&amp;controller=product&amp;id_lang=1#/2-size-m/12-color-camel/19-dimension-40x60cm">Donec Semper Tristique</a></span>



<div class="product-price-and-shipping">


<span itemprop="price" class="price">$13.90</span>
<span class="regular-price">$13.90</span>





</div>

</div>


</div>
</div>
</div>
<div class="clearfix">
<a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?controller=new-products" class="allproducts btn btn-primary">All new products</a>
</div>
</div>
</div>


</div>
<section id="content">
<div class="row">
<div class="col-md-8 right-section">


<section  id    = "checkout-personal-information-step"
class = "checkout-step -current -reachable js-current-step card checkout-card"
>
<h1 class="step-title h3">
<!-- <i class="material-icons rtl-no-flip done">&#xE876;</i> -->
<span class="step-number">1</span>
Personal Information
<!-- <span class="step-edit text-muted">
  <i class="material-icons edit">mode_edit</i> Edit
  </span> -->
</h1>

<div class="content">




<ul class="nav nav-inline m-y-2" role="tablist">
<!-- <li class="nav-item">
<a
class="nav-link active"
data-toggle="tab"
data-id="#checkout-guest-form"
role="tab"
aria-controls="checkout-guest-form"
aria-selected="true"          >
Order as a guest
</a>
</li> -->

<!-- <li class="nav-item">
<span data-id="nav-separator"> | </span>
</li>

<li class="nav-item">
<a
class="nav-link "
data-link-action="show-login-form"
data-toggle="tab"
data-id="#checkout-login-form"
role="tab"
aria-controls="checkout-login-form"
>
Sign in
</a>
</li> -->
</ul>

<div class="tab-content">
<div class="tab-pane active" id="checkout-guest-form" role="tabpanel" >




<form action="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?controller=order?action=show&amp;checkout" id="customer-form" class="js-customer-form" method="post">
<section>





<input type="hidden" name="id_customer" value="">








<div class="form-group row ">
<label class="col-md-3 form-control-label">
Social title
</label>
<div class="col-md-6 form-control-valign">



<label class="radio-inline">
<span class="custom-radio">
<input
name="id_gender"
type="radio"
value="1"
>
<span></span>
</span>
Mr.
</label>
<label class="radio-inline">
<span class="custom-radio">
<input
name="id_gender"
type="radio"
value="2"
>
<span></span>
</span>
Mrs.
</label>






</div>

<div class="col-md-3 form-control-comment">


</div>
</div>







<div class="form-group row ">
<label class="col-md-3 form-control-label required">
First name
</label>
<div class="col-md-6">



<input
class="form-control"
name="firstname"
type="text"
value=""
required        >






</div>

<div class="col-md-3 form-control-comment">


</div>
</div>







<div class="form-group row ">
<label class="col-md-3 form-control-label required">
Last name
</label>
<div class="col-md-6">



<input
class="form-control"
name="lastname"
type="text"
value=""
required        >






</div>

<div class="col-md-3 form-control-comment">


</div>
</div>







<div class="form-group row ">
<label class="col-md-3 form-control-label required">
Email
</label>
<div class="col-md-6">



<input
class="form-control"
name="email"
type="email"
value=""
required        >






</div>

<div class="col-md-3 form-control-comment">


</div>
</div>





<p style="font-size: 12px;
    font-weight: normal;">
<span class="font-weight-bold">Create an account</span> <span class="font-italic">(optional)</span>
<!-- <br> -->
<span class="text-muted">And save time on your next order!</span>
</p>


<div class="form-group row ">
<label class="col-md-3 form-control-label">
Password
</label>
<div class="col-md-6">



<div class="input-group js-parent-focus">
<input
class="form-control js-child-focus js-visible-password"
name="password"
title="At least 5 characters long"
type="password"
value=""
pattern=".{5,}"
>
<span class="input-group-btn">
<button
class="btn"
type="button"
data-action="show-password"
data-text-show="Show"
data-text-hide="Hide"
>
Show
</button>
</span>
</div>






</div>

<div class="col-md-3 form-control-comment">

Optional

</div>
</div>







<div class="form-group row ">
<label class="col-md-3 form-control-label">
Birthdate
</label>
<div class="col-md-6">



<input
class="form-control"
name="birthday"
type="text"
value=""
placeholder="MM/DD/YYYY"                            >
<span class="form-control-comment">
(E.g.: 05/31/1970)
</span>






</div>

<div class="col-md-3 form-control-comment">

Optional

</div>
</div>







<div class="form-group row ">
<label class="col-md-3 form-control-label">
</label>
<div class="col-md-6">



<span class="custom-checkbox checkout-span" style="">
<input name="optin" type="checkbox" value="1"  >
<span><i class="material-icons rtl-no-flip checkbox-checked">&#xE5CA;</i></span>
Receive offers from our partners
</span>






</div>

<div class="col-md-3 form-control-comment">


</div>
</div>







<div class="form-group row ">
<label class="col-md-3 form-control-label">
</label>
<div class="col-md-6">



<span class="custom-checkbox checkout-span">
<input name="newsletter" type="checkbox" value="1"  >
<span><i class="material-icons rtl-no-flip checkbox-checked">&#xE5CA;</i></span>
Sign up for our newsletter<br><em>You may unsubscribe at any moment. For that purpose, please find our contact info in the legal notice.</em>
</span>






</div>

<div class="col-md-3 form-control-comment">


</div>
</div>







<div class="form-group row ">
<label class="col-md-3 form-control-label required">
</label>
<div class="col-md-6">



<span class="custom-checkbox checkout-span">
<input name="psgdpr" type="checkbox" value="1"  required>
<span><i class="material-icons rtl-no-flip checkbox-checked">&#xE5CA;</i></span>
I agree to the terms and conditions and the privacy policy
</span>






</div>

<div class="col-md-3 form-control-comment">


</div>
</div>






</section>


<footer class="form-footer clearfix">
<input type="hidden" name="submitCreate" value="1">

<button
class="continue btn btn-primary pull-xs-right"
name="continue"
data-link-action="register-new-customer"
type="submit"
value="1"
>
Continue
</button>

</footer>


</form>


</div>
<div class="tab-pane " id="checkout-login-form" role="tabpanel" aria-hidden="true">





<form id="login-form" action="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?controller=order?action=show&amp;checkout" method="post">

<section>




<input type="hidden" name="back" value="">






<div class="form-group row ">
<label class="col-md-3 form-control-label required">
Email
</label>
<div class="col-md-6">



<input
class="form-control"
name="email"
type="email"
value=""
required        >






</div>

<div class="col-md-3 form-control-comment">


</div>
</div>





<div class="form-group row ">
<label class="col-md-3 form-control-label required">
Password
</label>
<div class="col-md-6">



<div class="input-group js-parent-focus">
<input
class="form-control js-child-focus js-visible-password"
name="password"
title="At least 5 characters long"
type="password"
value=""
pattern=".{5,}"
required          >
<span class="input-group-btn">
<button
class="btn"
type="button"
data-action="show-password"
data-text-show="Show"
data-text-hide="Hide"
>
Show
</button>
</span>
</div>






</div>

<div class="col-md-3 form-control-comment">


</div>
</div>




<div class="forgot-password">
<a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?controller=password" rel="nofollow">
Forgot your password?
</a>
</div>
</section>


<footer class="form-footer text-xs-center clearfix">
<input type="hidden" name="submitLogin" value="1">

<button
class="continue btn btn-primary pull-xs-right"
name="continue"
data-link-action="sign-in"
type="submit"
value="1"
>
Continue
</button>

</footer>


</form>


</div>
</div>



</div>
</section>



<section class="checkout-step -unreachable" id="checkout-addresses-step">
<h1 class="step-title h3">
<span class="step-number">2</span> Addresses
</h1>
</section>



<section class="checkout-step -unreachable" id="checkout-delivery-step">
<h1 class="step-title h3">
<span class="step-number">3</span> Shipping Method
</h1>
</section>



<section class="checkout-step -unreachable" id="checkout-payment-step">
<h1 class="step-title h3">
<span class="step-number">4</span> Payment
</h1>
</section>




</div>
<div class="col-md-3" style="margin 0 10px;">


<section id="js-checkout-summary" class="card js-cart" data-refresh-url="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?controller=cart?ajax=1&action=refresh">
<div class="card-block">





<div class="cart-summary-products">

<p>1 item</p>

<p>
<a data-id="#" data-toggle="collapse" data-target="#cart-summary-product-list">
show details
</a>
</p>


<div class="collapse" id="cart-summary-product-list">
<ul class="media-list">
<li class="media">
<div class="media-left">
<a data-id="https://prestashop.templatemela.com/PRSADD12/PRS295/index.php?id_product=2&amp;id_product_attribute=9&amp;rewrite=brown-bear-printed-sweater&amp;controller=product&amp;id_lang=1#/1-size-s" title="Suspendisse Massa Nulla">
<img class="media-object" src="https://prestashop.templatemela.com/PRSADD12/PRS295/img/p/2/5/25-cart_default.jpg" alt="Suspendisse Massa Nulla">
</a>
</div>
<div class="media-body">
<span class="product-name">Suspendisse Massa Nulla</span>
<span class="product-quantity">x1</span>
<span class="product-price pull-xs-right">$35.90</span>

<div class="product-line-info product-line-info-secondary text-muted">
<span class="label">Size:</span>
<span class="value">S</span>
</div>
</div>

</li>
</ul>
</div>

</div>



<div class="cart-summary-line cart-summary-subtotals" id="cart-subtotal-products">
<span class="label">Subtotal</span>
<span class="value">$35.90</span>
</div>
<div class="cart-summary-line cart-summary-subtotals" id="cart-subtotal-shipping">
<span class="label">Shipping</span>
<span class="value">$7.00</span>
</div>


</div>




<hr class="separator">


<div class="card-block cart-summary-totals">


<div class="cart-summary-line">
<span class="label">Total&nbsp;(tax excl.)</span>
<span class="value">$42.90</span>
</div>
<div class="cart-summary-line cart-total">
<span class="label">Total (tax incl.)</span>
<span class="value">$42.90</span>
</div>



<div class="cart-summary-line">
<span class="label sub">Taxes:</span>
<span class="value sub">$0.00</span>
</div>


</div>


</section>


</div>
</div>
</section>

</div>
</div>


</section>

      <Footer></Footer>
    </main>
  </div>
</template>
<script>
// require('../assets/scripts/stripePayment')
import axios from "axios";
// import $ from 'jquery'
// import sidemenu from "@/components/sidemenu";
//import cartTable from "@/components/cartTable";
import Header from "@/components/navbar";
import Footer from "@/components/footer";
// import VueContentLoading from "vue-content-loading";
//import Rozapay from "@/components/Rozapay";
//import stripePayment from "@/components/stripePayment"//stripePayment
export default {
  props: ["catedatas"],
  components: {
    Header,
    Footer,
    //  sidemenu,
    //cartTable,
    //  VueContentLoading
  },
  data() {
    return {
      isHas: false,
      lfullname: localStorage.getItem("fullname"),
      laddress_mobile: localStorage.getItem("address_mobile"),
      ladd1: localStorage.getItem("add1"),
      ladd2: localStorage.getItem("add2"),
      laddress_city: localStorage.getItem("address_city"),
      laddress_state: localStorage.getItem("address_state"),
      msg2: [],
      msgs: [],
      e_email: "",
      e_pincode: "",
      e_mobile: "",
      dashboard_box: "step1",
      addId: 0,
      addressDatas: [],
      registered: "",
      // userDatas: [],
      selectedAddress: "",
      aid: 0,
      address_box: true,
      fname: "",
      email: "",
      stateData: [],
      address_mobile: "",
      lname: "",
      add1: "",
      add2: "",
      address_state: "",
      address_city: "",
      pincode: "",
      ip_address: JSON.parse(localStorage.getItem("ip_address")),
      uid: localStorage.getItem("user"),
      data: "",
      cartCount: [],
      // categorieses: [],
      card: "",
      front_image: "",
      username: "",
      password: "",
      role: "",
      token: localStorage.getItem("token"),
      // msg: [],
      // user_session = JSON.parse(localStorage.getItem('user')),
      fields: {
        type: "update_profile",
        uid: "",
        fullname: "",
        mobile: "",
        address: "",
        Token: this.$root.auth,
      },
      userDatas: {
        fullname: "",
        email: "",
        address_mobile: "",
        add1: "",
        add2: "",
        address_state: "",
        address_city: "",
        pincode: "",
      },
      fieldss: {
        type: "register",
        firstname: "",
        lastname: "",
        address: "",
        mobile: "",
        email: "",
        password: "",
        ip_address: JSON.parse(localStorage.getItem("ip_address")),
      },
      mylocation: "",
      center: { lat: 45.508, lng: -73.587 },
      termsConition: false,
      cpassword: "",
      isMobileValid: false,
      msg: [],
    };
  },
  mounted() {
    this.uid = localStorage.getItem("user");
    (this.ip_address = JSON.parse(localStorage.getItem("ip_address"))),
      this.checkLog();
    this.getAddress();
    this.getState();
    this.getSelectedAddress();
    this.goToTop();
    if (this.uid > 0) {
      //this.open_dashboard('step2')
      this.open_dashboard("step2");
    }
  },
  watch: {
    cartCount: function (cartCount) {
      this.cartCount = cartCount;
      this.getCart();
    },
    email(value) {
      this.email = value;
      this.validateEmail2(value);
    },
    pincode(value) {
      this.pincode = value;
      this.validateUsername(value);
    },
    address_mobile(value) {
      this.mobile = value;
      this.validateMobile(value);
    },
  },
  methods: {
    validateEmail2(value) {
      if (/^\w+([-]?\w+)@\w+([-]?\w+)(\.\w{2,3})+$/.test(value)) {
        this.msg2["e_email"] = "";
      } else {
        this.msg2["e_email"] = "Invalid Email Address";
      }
    },
    validateUsername(value) {
      if (value == null) {
        this.msgs["e_pincode"] = "Please Enter Valid Postcode.";
        this.check_val = true;
      } else if (value.length < 5) {
        this.msgs["e_pincode"] = "Lenth must be greater then 5";
        this.check_val = true;
      } else {
        this.msgs["e_pincode"] = "";
        this.check_val = false;
      }
    },
    validateMobile(value) {
      if (value == null) {
        this.msgs["e_mobile"] = "Please Enter Mobile no.";
        this.check_val = true;
      } else if (value.length != 10 || value.length > 10 || value.length < 10) {
        this.msgs["e_mobile"] = "Invalid Mobile no.";
        this.check_val = true;
      } else {
        this.msgs["e_mobile"] = "";
        this.check_val = false;
      }
    },
    goToTop() {
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0;
    },
    open_dashboard(vl) {
      this.dashboard_box = vl;
    },
    stripePay() {
      this.$toasted.global.error({ message: "Please Select Address" });
    },
    checkLog() {
      var vi = this;
      //vi.$refs.check1.click();
      if (this.registered == "register") {
        vi.$router.push({ name: "registration" });
      } else if (this.registered == "guest") {
        this.open_dashboard("step2");
      }
    },
    login() {
      var vi = this;
      const axios = require("axios");
      var ip_address = JSON.parse(localStorage.getItem("ip_address"));
      if (this.username === "") {
        this.$toasted.global.error({ message: "Please enter username" });
      } else if (this.password === "") {
        this.$toasted.global.error({ message: "Please enter password" });
      } else {
        axios({
          method: "POST",
          url: this.$root.URL_ROOT + "api.php",
          data: {
            type: "login",
            username: this.username,
            password: this.password,
            ip_address: ip_address,
          },
        }).then(function (response) {
          var data = response.data;
          // console.log(response)
          if (data.status === "success") {
            vi.token = data.body.access_token;
            vi.role = data.body.isAdmin;
            localStorage.setItem("user", data.body.id);
            localStorage.setItem("token", data.body.access_tokens);
            localStorage.setItem("isAdmin", data.body.role);
            // vi.$router.go('/myaccount')
            vi.$toasted.global.success({ message: "Success Please wait..." });
            vi.$router.push({ name: "myaccount" });
          } else {
            vi.$toasted.global.error({ message: "Invalid id or password" });
          }
        });
      }
      return false;
    },
    getAddress() {
      var ip_address = JSON.parse(localStorage.getItem("ip_address"));
      var user_session = JSON.parse(localStorage.getItem("user"));
      var uid = "";
      if (user_session != null) {
        uid = user_session;
      } else {
        uid = null;
      }
      var ev = this;
      axios({
        method: "POST",
        url: this.$root.URL_ROOT + "api.php",
        data: {
          type: "getAddress",
          uid: uid,
          ip_address: ip_address,
        },
      }).then(function (response) {
        console.log(response);
        var data = response.data;

        ev.addressDatas = data.data;
        ev.userDatas = data.user;
        //ev.chkadd=true;
        // }
      });
    },
    save_address2() {
      var ev = this;

      if (this.userDatas.fullname == "") {
        ev.$toasted.global.error({ message: "please enter First Name " });
      } else if (this.userDatas.address_mobile == "") {
        ev.$toasted.global.error({ message: "please enter mobile number " });
      } else if (this.userDatas.add1 == "") {
        ev.$toasted.global.error({ message: "please enter address 1 " });
      } else if (this.userDatas.add2 == "") {
        ev.$toasted.global.error({ message: "please enter address 2 " });
      } else if (this.userDatas.address_city == "") {
        ev.$toasted.global.error({ message: "please enter city " });
      } else if (this.userDatas.address_state == "") {
        ev.$toasted.global.error({ message: "please select state " });
      } else {
        var ip_address = JSON.parse(localStorage.getItem("ip_address"));
        var user_session = JSON.parse(localStorage.getItem("user"));
        var uid = "";
        if (user_session != null) {
          uid = user_session;
          ip_address = null;
        } else {
          uid = null;
        }

        axios({
          method: "POST",
          url: this.$root.URL_ROOT + "api.php",
          data: {
            type: "save_address",
            uid: uid,
            ip_address: ip_address,
            fname: ev.userDatas.fullname,
            //lname: ev.lname,
            email: ev.userDatas.email,
            address_city: ev.userDatas.address_city,
            address_mobile: ev.userDatas.address_mobile,
            add1: ev.userDatas.add1,
            add2: ev.userDatas.add2,
            pincode: ev.userDatas.pincode,
            address_state: ev.userDatas.address_state,
          },
        }).then(function (response) {
          var data = response.data;
          //ev.stateData=data
          console.log(response);
          if (data.status == "success") {
            ev.$toasted.global.success({ message: data.msg });
            //ev.$refs.fileInput.click()
            ev.$refs.check2.click();
            ev.open_dashboard("step3");
            // ev.step3 = true
            ev.getAddress();
          }
        });
      }
    },
    save_address() {
      var ev = this;
      if (this.fname == "") {
        ev.$toasted.global.error({ message: "please enter First Name " });
      } else if (this.lname == "") {
        ev.$toasted.global.error({ message: "please enter Last Name " });
      } else if (this.address_mobile == "") {
        ev.$toasted.global.error({ message: "please enter mobile number " });
      } else if (this.add1 == "") {
        ev.$toasted.global.error({ message: "please enter address 1 " });
      } else if (this.add2 == "") {
        ev.$toasted.global.error({ message: "please enter address 2 " });
      } else if (this.address_city == "") {
        ev.$toasted.global.error({ message: "please enter city " });
      } else if (this.address_state == "") {
        ev.$toasted.global.error({ message: "please select state " });
      } else {
        // var ev = this
        var ip_address = JSON.parse(localStorage.getItem("ip_address"));
        var user_session = JSON.parse(localStorage.getItem("user"));
        localStorage.setItem("fullname", ev.fname + ev.lname);
        localStorage.setItem("address_mobile", ev.address_mobile);
        localStorage.setItem("add1", ev.add1);
        localStorage.setItem("add2", ev.add2);
        localStorage.setItem("address_city", ev.address_city);
        localStorage.setItem("address_state", ev.address_state);
        ev.lfullname = localStorage.getItem("fullname");
        ev.laddress_mobile = localStorage.getItem("address_mobile");
        ev.ladd1 = localStorage.getItem("add1");
        ev.ladd2 = localStorage.getItem("add2");
        ev.laddress_city = localStorage.getItem("address_city");
        ev.laddress_state = localStorage.getItem("address_state");
        var uid = "";
        if (user_session != null) {
          uid = user_session;
        } else {
          uid = null;
        }
        axios({
          method: "POST",
          url: this.$root.URL_ROOT + "api.php",
          data: {
            type: "save_address",
            uid: uid,
            ip_address: ip_address,
            fname: ev.fname,
            lname: ev.lname,
            email: ev.email,
            address_city: ev.address_city,
            address_mobile: ev.address_mobile,
            add1: ev.add1,
            add2: ev.add2,
            pincode: ev.pincode,
            address_state: ev.address_state,
          },
        }).then(function (response) {
          var data = response.data;
          //ev.stateData=data
          // console.log(response);
          if (data.status == "success") {
            ev.$toasted.global.success({ message: data.msg });
            //ev.$refs.fileInput.click()
            ev.$refs.check2.click();
            ev.open_dashboard("step3");
            // ev.step3 = true
            ev.getAddress();
          }
        });
      }
    },
    getState() {
      var ev = this;
      axios({
        method: "POST",
        url: this.$root.URL_ROOT + "api.php",
        data: {
          type: "getState",
        },
      }).then(function (response) {
        var data = response.data;
        ev.stateData = data;
        // console.log(response)
      });
    },
    getSelectedAddress() {
      // var ip_address=JSON.parse(localStorage.getItem('ip_address'))
      var user_session = JSON.parse(localStorage.getItem("user"));
      var uid = "";
      if (user_session != null) {
        uid = user_session;
      } else {
        uid = null;
      }
      var ev = this;
      axios({
        method: "POST",
        url: this.$root.URL_ROOT + "api.php",
        data: {
          type: "getSelectedAddress",
          uid: uid,
          aid: ev.aid,
        },
      }).then(function (response) {
        var data = response.data;
        ev.selectedAddress = data;
      });
    },
    checked_add(id) {
      this.aid = id;
      this.getSelectedAddress();
      this.address_box = true;
    },
    chng_add_box() {
      this.address_box = false;
    },
    update_cart_pre(cid, pid, pname, qty, price, mode) {
      var t = this.update_cart(cid, pid, pname, qty, price, mode);
      // console.log(t)
      setTimeout(() => {
        if (t != null) {
          // this.getCart();
        }
      }, 1000);
    },
  },
};
</script>
<style scoped>
.total-table {
  position: absolute;
  right: 20px;
  top: 3px;
  font-weight: bold;
  font-size: 22px;
  color: #ba2930;
}
#frmStripePayment {
  max-width: 500px;
  padding: 25px;
  border: #d0d0d0 1px solid;
  border-radius: 4px;
  margin: auto;
}
.hide {
  display: none;
}
.test-data {
  margin-top: 40px;
}

.tutorial-table {
  border: #d0d0d0 1px solid;
  font-size: 0.8em;
  color: #4e4e4e;
}

.tutorial-table th {
  background: #efefef;
  padding: 12px;
  border-bottom: #e0e0e0 1px solid;
  text-align: left;
}

.tutorial-table td {
  padding: 12px;
  border-bottom: #d0d0d0 1px solid;
}

#frmStripePayment .field-row {
  margin-bottom: 20px;
}

#frmStripePayment div label {
  margin: 5px 0px 0px 5px;
  color: #49615d;
  width: auto;
}

.demoInputBox {
  padding: 10px;
  border: #d0d0d0 1px solid;
  border-radius: 4px;
  background-color: #fff;
  width: 100%;
  margin-top: 5px;
  box-sizing: border-box;
}

.demoSelectBox {
  padding: 10px;
  border: #d0d0d0 1px solid;
  border-radius: 4px;
  background-color: #fff;
  margin-top: 5px;
}

select.demoSelectBox {
  height: 35px;
  margin-right: 10px;
}

.error {
  background-color: #ff6600;
  padding: 8px 10px;
  border-radius: 4px;
  font-size: 0.9em;
}

.success {
  background-color: #c3c791;
  padding: 8px 10px;
  border-radius: 4px;
  font-size: 0.9em;
}

.info {
  font-size: 0.8em;
  color: #ff6600;
  letter-spacing: 2px;
  padding-left: 5px;
}

.btnAction {
  background-color: #586ada;
  padding: 10px 40px;
  color: #fff;
  border: #5263cc 1px solid;
  border-radius: 4px;
  cursor: pointer;
}

.btnAction:focus {
  outline: none;
}

.column-right {
  margin-right: 6px;
}

.contact-row {
  display: inline-block;
}

.cvv-input {
  width: 60px;
}

#error-message {
  margin: 0px 0px 10px 0px;
  padding: 5px 25px;
  border-radius: 4px;
  line-height: 25px;
  font-size: 0.9em;
  color: #ca3e3e;
  border: #ca3e3e 1px solid;
  display: none;
  width: 300px;
}

#success-message {
  margin: 0px 0px 10px 0px;
  padding: 5px 25px;
  border-radius: 4px;
  line-height: 25px;
  font-size: 0.9em;
  color: #3da55d;
  border: #43b567 1px solid;
  width: 300px;
}

.display-none {
  display: none;
}

#response-container {
  padding: 40px 20px;
  width: 270px;
  text-align: center;
}

.ack-message {
  font-size: 1.5em;
  margin-bottom: 20px;
}

#response-container.success {
  border-top: #b0dad3 2px solid;
  background: #e9fdfa;
}

#response-container.error {
  border-top: #c3b4b4 2px solid;
  background: #f5e3e3;
}

.img-response {
  margin-bottom: 30px;
}

#loader {
  display: none;
}

.checkout-span{
  font-size: 14px;
    font-weight: normal;
}
#loader img {
  width: 45px;
  vertical-align: middle;
}
.addSection {
  margin-top: 50px;
}
.sec-head {
  background: #c1c1c1;
  padding: 10px;
}
.card {
  box-shadow: 0px 0px 5px #c1c1c1;
  padding: 20px 0 0 50px;
  color: #000;
  font-weight: bold;
  font-size: 16px;
}
.mt-20 {
  margin-top: 20px;
}
.radiobtn {
  position: absolute;
  top: 60px;
  left: 20px;
}
.margin {
  margin: 10px;
}
.margin-left {
  margin-left: 10px;
}
.checkout-card{
  padding:50px !important;
}
.checkout-step{
      border: 1px solid #f1f1f1;
    padding: 20px 0 15px 30px;
    border-radius: 10px;
    margin-bottom: 15px;
}
@media only screen and (max-width: 600px) {
  .card[data-v-fd530f40] {
    box-shadow: 0px 0px 5px hsl(0, 0%, 76%);
    padding: 15px 10px 10px 35px;
    color: #000;
    width: 100%;
    font-weight: bold;
    font-size: 13px;
  }
.sidemenu-hide{
  display:none;
}
}
</style>
